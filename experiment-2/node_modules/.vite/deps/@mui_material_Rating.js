import { r as __toESM, t as require_react } from "./react-DOLv65KA.js";
import { A as slotShouldForwardProp_default, M as composeClasses, N as clsx_default, P as require_prop_types, f as generateUtilityClasses, l as clamp_default, n as styled_default, p as generateUtilityClass, s as useRtl, t as useDefaultProps } from "./DefaultPropsProvider-A-NK4Rwg.js";
import { t as capitalize_default } from "./capitalize-B7hdi3_1.js";
import { t as require_jsx_runtime } from "./jsx-runtime-CnQOmHCZ.js";
import { t as memoTheme_default } from "./memoTheme-DYPVib2K.js";
import "./useId-CRlhbUXb.js";
import { t as useControlled_default } from "./useControlled-mUKZtEQB.js";
import { n as chainPropTypes, t as useForkRef_default } from "./useForkRef-BzaWOFhc.js";
import { t as isFocusVisible } from "./isFocusVisible-D-5PHRwP.js";
import "./useForkRef-D_MJHDeh.js";
import { t as useSlot } from "./useSlot-BA0sKOux.js";
import { t as createSvgIcon } from "./createSvgIcon-BLd5YIi7.js";
import { t as useId_default } from "./useId-CZoRcvxR.js";

//#region node_modules/@mui/utils/esm/visuallyHidden/visuallyHidden.js
var visuallyHidden = {
	border: 0,
	clip: "rect(0 0 0 0)",
	height: "1px",
	margin: "-1px",
	overflow: "hidden",
	padding: 0,
	position: "absolute",
	whiteSpace: "nowrap",
	width: "1px"
};
var visuallyHidden_default = visuallyHidden;

//#endregion
//#region node_modules/@mui/material/esm/internal/svg-icons/Star.js
var import_prop_types = /* @__PURE__ */ __toESM(require_prop_types(), 1);
var import_react = /* @__PURE__ */ __toESM(require_react(), 1);
var import_jsx_runtime = require_jsx_runtime();
var Star_default = createSvgIcon(/* @__PURE__ */ (0, import_jsx_runtime.jsx)("path", { d: "M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" }), "Star");

//#endregion
//#region node_modules/@mui/material/esm/internal/svg-icons/StarBorder.js
/**
* @ignore - internal component.
*/
var StarBorder_default = createSvgIcon(/* @__PURE__ */ (0, import_jsx_runtime.jsx)("path", { d: "M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" }), "StarBorder");

//#endregion
//#region node_modules/@mui/material/esm/Rating/ratingClasses.js
function getRatingUtilityClass(slot) {
	return generateUtilityClass("MuiRating", slot);
}
var ratingClasses = generateUtilityClasses("MuiRating", [
	"root",
	"sizeSmall",
	"sizeMedium",
	"sizeLarge",
	"readOnly",
	"disabled",
	"focusVisible",
	"visuallyHidden",
	"pristine",
	"label",
	"labelEmptyValueActive",
	"icon",
	"iconEmpty",
	"iconFilled",
	"iconHover",
	"iconFocus",
	"iconActive",
	"decimal"
]);
var ratingClasses_default = ratingClasses;

//#endregion
//#region node_modules/@mui/material/esm/Rating/Rating.js
function getDecimalPrecision(num) {
	const decimalPart = num.toString().split(".")[1];
	return decimalPart ? decimalPart.length : 0;
}
function roundValueToPrecision(value, precision) {
	if (value == null) return value;
	const nearest = Math.round(value / precision) * precision;
	return Number(nearest.toFixed(getDecimalPrecision(precision)));
}
var useUtilityClasses = (ownerState) => {
	const { classes, size, readOnly, disabled, emptyValueFocused, focusVisible } = ownerState;
	return composeClasses({
		root: [
			"root",
			`size${capitalize_default(size)}`,
			disabled && "disabled",
			focusVisible && "focusVisible",
			readOnly && "readOnly"
		],
		label: ["label", "pristine"],
		labelEmptyValue: [emptyValueFocused && "labelEmptyValueActive"],
		icon: ["icon"],
		iconEmpty: ["iconEmpty"],
		iconFilled: ["iconFilled"],
		iconHover: ["iconHover"],
		iconFocus: ["iconFocus"],
		iconActive: ["iconActive"],
		decimal: ["decimal"],
		visuallyHidden: ["visuallyHidden"]
	}, getRatingUtilityClass, classes);
};
var RatingRoot = styled_default("span", {
	name: "MuiRating",
	slot: "Root",
	overridesResolver: (props, styles) => {
		const { ownerState } = props;
		return [
			{ [`& .${ratingClasses_default.visuallyHidden}`]: styles.visuallyHidden },
			styles.root,
			styles[`size${capitalize_default(ownerState.size)}`],
			ownerState.readOnly && styles.readOnly
		];
	}
})(memoTheme_default(({ theme }) => ({
	display: "inline-flex",
	position: "relative",
	fontSize: theme.typography.pxToRem(24),
	color: "#faaf00",
	cursor: "pointer",
	textAlign: "left",
	width: "min-content",
	WebkitTapHighlightColor: "transparent",
	[`&.${ratingClasses_default.disabled}`]: {
		opacity: (theme.vars || theme).palette.action.disabledOpacity,
		pointerEvents: "none"
	},
	[`&.${ratingClasses_default.focusVisible} .${ratingClasses_default.iconActive}`]: { outline: "1px solid #999" },
	[`& .${ratingClasses_default.visuallyHidden}`]: visuallyHidden_default,
	variants: [
		{
			props: { size: "small" },
			style: { fontSize: theme.typography.pxToRem(18) }
		},
		{
			props: { size: "large" },
			style: { fontSize: theme.typography.pxToRem(30) }
		},
		{
			props: ({ ownerState }) => ownerState.readOnly,
			style: { pointerEvents: "none" }
		}
	]
})));
var RatingLabel = styled_default("label", {
	name: "MuiRating",
	slot: "Label",
	overridesResolver: ({ ownerState }, styles) => [styles.label, ownerState.emptyValueFocused && styles.labelEmptyValueActive]
})({
	cursor: "inherit",
	variants: [{
		props: ({ ownerState }) => ownerState.emptyValueFocused,
		style: {
			top: 0,
			bottom: 0,
			position: "absolute",
			outline: "1px solid #999",
			width: "100%"
		}
	}]
});
var RatingIcon = styled_default("span", {
	name: "MuiRating",
	slot: "Icon",
	overridesResolver: (props, styles) => {
		const { ownerState } = props;
		return [
			styles.icon,
			ownerState.iconEmpty && styles.iconEmpty,
			ownerState.iconFilled && styles.iconFilled,
			ownerState.iconHover && styles.iconHover,
			ownerState.iconFocus && styles.iconFocus,
			ownerState.iconActive && styles.iconActive
		];
	}
})(memoTheme_default(({ theme }) => ({
	display: "flex",
	transition: theme.transitions.create("transform", { duration: theme.transitions.duration.shortest }),
	pointerEvents: "none",
	variants: [{
		props: ({ ownerState }) => ownerState.iconActive,
		style: { transform: "scale(1.2)" }
	}, {
		props: ({ ownerState }) => ownerState.iconEmpty,
		style: { color: (theme.vars || theme).palette.action.disabled }
	}]
})));
var RatingDecimal = styled_default("span", {
	name: "MuiRating",
	slot: "Decimal",
	shouldForwardProp: (prop) => slotShouldForwardProp_default(prop) && prop !== "iconActive",
	overridesResolver: (props, styles) => {
		const { iconActive } = props;
		return [styles.decimal, iconActive && styles.iconActive];
	}
})({
	position: "relative",
	variants: [{
		props: ({ iconActive }) => iconActive,
		style: { transform: "scale(1.2)" }
	}]
});
function IconContainer(props) {
	const { value, ...other } = props;
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)("span", { ...other });
}
IconContainer.propTypes = { value: import_prop_types.default.number.isRequired };
function RatingItem(props) {
	const { classes, disabled, emptyIcon, focus, getLabelText, highlightSelectedOnly, hover, icon, IconContainerComponent, isActive, itemValue, labelProps, name, onBlur, onChange, onClick, onFocus, readOnly, ownerState, ratingValue, ratingValueRounded, slots = {}, slotProps = {} } = props;
	const isFilled = highlightSelectedOnly ? itemValue === ratingValue : itemValue <= ratingValue;
	const isHovered = itemValue <= hover;
	const isFocused = itemValue <= focus;
	const isChecked = itemValue === ratingValueRounded;
	const id = `${name}-${useId_default()}`;
	const externalForwardedProps = {
		slots,
		slotProps
	};
	const [IconSlot, iconSlotProps] = useSlot("icon", {
		elementType: RatingIcon,
		className: clsx_default(classes.icon, isFilled ? classes.iconFilled : classes.iconEmpty, isHovered && classes.iconHover, isFocused && classes.iconFocus, isActive && classes.iconActive),
		externalForwardedProps,
		ownerState: {
			...ownerState,
			iconEmpty: !isFilled,
			iconFilled: isFilled,
			iconHover: isHovered,
			iconFocus: isFocused,
			iconActive: isActive
		},
		additionalProps: { value: itemValue },
		internalForwardedProps: { as: IconContainerComponent }
	});
	const [LabelSlot, labelSlotProps] = useSlot("label", {
		elementType: RatingLabel,
		externalForwardedProps,
		ownerState: {
			...ownerState,
			emptyValueFocused: void 0
		},
		additionalProps: {
			style: labelProps?.style,
			htmlFor: id
		}
	});
	const container = /* @__PURE__ */ (0, import_jsx_runtime.jsx)(IconSlot, {
		...iconSlotProps,
		children: emptyIcon && !isFilled ? emptyIcon : icon
	});
	if (readOnly) return /* @__PURE__ */ (0, import_jsx_runtime.jsx)("span", {
		...labelProps,
		children: container
	});
	return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(import_react.Fragment, { children: [/* @__PURE__ */ (0, import_jsx_runtime.jsxs)(LabelSlot, {
		...labelSlotProps,
		children: [container, /* @__PURE__ */ (0, import_jsx_runtime.jsx)("span", {
			className: classes.visuallyHidden,
			children: getLabelText(itemValue)
		})]
	}), /* @__PURE__ */ (0, import_jsx_runtime.jsx)("input", {
		className: classes.visuallyHidden,
		onFocus,
		onBlur,
		onChange,
		onClick,
		disabled,
		value: itemValue,
		id,
		type: "radio",
		name,
		checked: isChecked
	})] });
}
RatingItem.propTypes = {
	classes: import_prop_types.default.object.isRequired,
	disabled: import_prop_types.default.bool.isRequired,
	emptyIcon: import_prop_types.default.node,
	focus: import_prop_types.default.number.isRequired,
	getLabelText: import_prop_types.default.func.isRequired,
	highlightSelectedOnly: import_prop_types.default.bool.isRequired,
	hover: import_prop_types.default.number.isRequired,
	icon: import_prop_types.default.node,
	IconContainerComponent: import_prop_types.default.elementType.isRequired,
	isActive: import_prop_types.default.bool.isRequired,
	itemValue: import_prop_types.default.number.isRequired,
	labelProps: import_prop_types.default.object,
	name: import_prop_types.default.string,
	onBlur: import_prop_types.default.func.isRequired,
	onChange: import_prop_types.default.func.isRequired,
	onClick: import_prop_types.default.func.isRequired,
	onFocus: import_prop_types.default.func.isRequired,
	ownerState: import_prop_types.default.object.isRequired,
	ratingValue: import_prop_types.default.number,
	ratingValueRounded: import_prop_types.default.number,
	readOnly: import_prop_types.default.bool.isRequired,
	slotProps: import_prop_types.default.object,
	slots: import_prop_types.default.object
};
var defaultIcon = /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Star_default, { fontSize: "inherit" });
var defaultEmptyIcon = /* @__PURE__ */ (0, import_jsx_runtime.jsx)(StarBorder_default, { fontSize: "inherit" });
function defaultLabelText(value) {
	return `${value || "0"} Star${value !== 1 ? "s" : ""}`;
}
var Rating = /* @__PURE__ */ import_react.forwardRef(function Rating$1(inProps, ref) {
	const props = useDefaultProps({
		name: "MuiRating",
		props: inProps
	});
	const { component = "span", className, defaultValue = null, disabled = false, emptyIcon = defaultEmptyIcon, emptyLabelText = "Empty", getLabelText = defaultLabelText, highlightSelectedOnly = false, icon = defaultIcon, IconContainerComponent = IconContainer, max = 5, name: nameProp, onChange, onChangeActive, onMouseLeave, onMouseMove, precision = 1, readOnly = false, size = "medium", value: valueProp, slots = {}, slotProps = {}, ...other } = props;
	const name = useId_default(nameProp);
	const [valueDerived, setValueState] = useControlled_default({
		controlled: valueProp,
		default: defaultValue,
		name: "Rating"
	});
	const valueRounded = roundValueToPrecision(valueDerived, precision);
	const isRtl = useRtl();
	const [{ hover, focus }, setState] = import_react.useState({
		hover: -1,
		focus: -1
	});
	let value = valueRounded;
	if (hover !== -1) value = hover;
	if (focus !== -1) value = focus;
	const [focusVisible, setFocusVisible] = import_react.useState(false);
	const rootRef = import_react.useRef();
	const handleRef = useForkRef_default(rootRef, ref);
	const handleMouseMove = (event) => {
		if (onMouseMove) onMouseMove(event);
		const { right, left, width: containerWidth } = rootRef.current.getBoundingClientRect();
		let percent;
		if (isRtl) percent = (right - event.clientX) / containerWidth;
		else percent = (event.clientX - left) / containerWidth;
		let newHover = roundValueToPrecision(max * percent + precision / 2, precision);
		newHover = clamp_default(newHover, precision, max);
		setState((prev) => prev.hover === newHover && prev.focus === newHover ? prev : {
			hover: newHover,
			focus: newHover
		});
		setFocusVisible(false);
		if (onChangeActive && hover !== newHover) onChangeActive(event, newHover);
	};
	const handleMouseLeave = (event) => {
		if (onMouseLeave) onMouseLeave(event);
		const newHover = -1;
		setState({
			hover: newHover,
			focus: newHover
		});
		if (onChangeActive && hover !== newHover) onChangeActive(event, newHover);
	};
	const handleChange = (event) => {
		let newValue = event.target.value === "" ? null : parseFloat(event.target.value);
		if (hover !== -1) newValue = hover;
		setValueState(newValue);
		if (onChange) onChange(event, newValue);
	};
	const handleClear = (event) => {
		if (event.clientX === 0 && event.clientY === 0) return;
		setState({
			hover: -1,
			focus: -1
		});
		setValueState(null);
		if (onChange && parseFloat(event.target.value) === valueRounded) onChange(event, null);
	};
	const handleFocus = (event) => {
		if (isFocusVisible(event.target)) setFocusVisible(true);
		const newFocus = parseFloat(event.target.value);
		setState((prev) => ({
			hover: prev.hover,
			focus: newFocus
		}));
	};
	const handleBlur = (event) => {
		if (hover !== -1) return;
		if (!isFocusVisible(event.target)) setFocusVisible(false);
		const newFocus = -1;
		setState((prev) => ({
			hover: prev.hover,
			focus: newFocus
		}));
	};
	const [emptyValueFocused, setEmptyValueFocused] = import_react.useState(false);
	const ownerState = {
		...props,
		component,
		defaultValue,
		disabled,
		emptyIcon,
		emptyLabelText,
		emptyValueFocused,
		focusVisible,
		getLabelText,
		icon,
		IconContainerComponent,
		max,
		precision,
		readOnly,
		size
	};
	const classes = useUtilityClasses(ownerState);
	const externalForwardedProps = {
		slots,
		slotProps
	};
	const [RootSlot, rootSlotProps] = useSlot("root", {
		ref: handleRef,
		className: clsx_default(classes.root, className),
		elementType: RatingRoot,
		externalForwardedProps: {
			...externalForwardedProps,
			...other,
			component
		},
		getSlotProps: (handlers) => ({
			...handlers,
			onMouseMove: (event) => {
				handleMouseMove(event);
				handlers.onMouseMove?.(event);
			},
			onMouseLeave: (event) => {
				handleMouseLeave(event);
				handlers.onMouseLeave?.(event);
			}
		}),
		ownerState,
		additionalProps: {
			role: readOnly ? "img" : null,
			"aria-label": readOnly ? getLabelText(value) : null
		}
	});
	const [LabelSlot, labelSlotProps] = useSlot("label", {
		className: clsx_default(classes.label, classes.labelEmptyValue),
		elementType: RatingLabel,
		externalForwardedProps,
		ownerState
	});
	const [DecimalSlot, decimalSlotProps] = useSlot("decimal", {
		className: classes.decimal,
		elementType: RatingDecimal,
		externalForwardedProps,
		ownerState
	});
	return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(RootSlot, {
		...rootSlotProps,
		children: [Array.from(new Array(max)).map((_, index) => {
			const itemValue = index + 1;
			const ratingItemProps = {
				classes,
				disabled,
				emptyIcon,
				focus,
				getLabelText,
				highlightSelectedOnly,
				hover,
				icon,
				IconContainerComponent,
				name,
				onBlur: handleBlur,
				onChange: handleChange,
				onClick: handleClear,
				onFocus: handleFocus,
				ratingValue: value,
				ratingValueRounded: valueRounded,
				readOnly,
				ownerState,
				slots,
				slotProps
			};
			const isActive = itemValue === Math.ceil(value) && (hover !== -1 || focus !== -1);
			if (precision < 1) {
				const items = Array.from(new Array(1 / precision));
				return /* @__PURE__ */ (0, import_react.createElement)(DecimalSlot, {
					...decimalSlotProps,
					key: itemValue,
					className: clsx_default(decimalSlotProps.className, isActive && classes.iconActive),
					iconActive: isActive
				}, items.map(($, indexDecimal) => {
					const itemDecimalValue = roundValueToPrecision(itemValue - 1 + (indexDecimal + 1) * precision, precision);
					return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(RatingItem, {
						...ratingItemProps,
						isActive: false,
						itemValue: itemDecimalValue,
						labelProps: { style: items.length - 1 === indexDecimal ? {} : {
							width: itemDecimalValue === value ? `${(indexDecimal + 1) * precision * 100}%` : "0%",
							overflow: "hidden",
							position: "absolute"
						} }
					}, itemDecimalValue);
				}));
			}
			return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(RatingItem, {
				...ratingItemProps,
				isActive,
				itemValue
			}, itemValue);
		}), !readOnly && !disabled && /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(LabelSlot, {
			...labelSlotProps,
			children: [/* @__PURE__ */ (0, import_jsx_runtime.jsx)("input", {
				className: classes.visuallyHidden,
				value: "",
				id: `${name}-empty`,
				type: "radio",
				name,
				checked: valueRounded == null,
				onFocus: () => setEmptyValueFocused(true),
				onBlur: () => setEmptyValueFocused(false),
				onChange: handleChange
			}), /* @__PURE__ */ (0, import_jsx_runtime.jsx)("span", {
				className: classes.visuallyHidden,
				children: emptyLabelText
			})]
		})]
	});
});
Rating.propTypes = {
	children: import_prop_types.default.node,
	classes: import_prop_types.default.object,
	className: import_prop_types.default.string,
	component: import_prop_types.default.elementType,
	defaultValue: import_prop_types.default.number,
	disabled: import_prop_types.default.bool,
	emptyIcon: import_prop_types.default.node,
	emptyLabelText: import_prop_types.default.node,
	getLabelText: import_prop_types.default.func,
	highlightSelectedOnly: import_prop_types.default.bool,
	icon: import_prop_types.default.node,
	IconContainerComponent: import_prop_types.default.elementType,
	max: import_prop_types.default.number,
	name: import_prop_types.default.string,
	onChange: import_prop_types.default.func,
	onChangeActive: import_prop_types.default.func,
	onMouseLeave: import_prop_types.default.func,
	onMouseMove: import_prop_types.default.func,
	precision: chainPropTypes(import_prop_types.default.number, (props) => {
		if (props.precision < .1) return new Error(["MUI: The prop `precision` should be above 0.1.", "A value below this limit has an imperceptible impact."].join("\n"));
		return null;
	}),
	readOnly: import_prop_types.default.bool,
	size: import_prop_types.default.oneOfType([import_prop_types.default.oneOf([
		"small",
		"medium",
		"large"
	]), import_prop_types.default.string]),
	slotProps: import_prop_types.default.shape({
		decimal: import_prop_types.default.oneOfType([import_prop_types.default.func, import_prop_types.default.object]),
		icon: import_prop_types.default.oneOfType([import_prop_types.default.func, import_prop_types.default.object]),
		label: import_prop_types.default.oneOfType([import_prop_types.default.func, import_prop_types.default.object]),
		root: import_prop_types.default.oneOfType([import_prop_types.default.func, import_prop_types.default.object])
	}),
	slots: import_prop_types.default.shape({
		decimal: import_prop_types.default.elementType,
		icon: import_prop_types.default.elementType,
		label: import_prop_types.default.elementType,
		root: import_prop_types.default.elementType
	}),
	sx: import_prop_types.default.oneOfType([
		import_prop_types.default.arrayOf(import_prop_types.default.oneOfType([
			import_prop_types.default.func,
			import_prop_types.default.object,
			import_prop_types.default.bool
		])),
		import_prop_types.default.func,
		import_prop_types.default.object
	]),
	value: import_prop_types.default.number
};
var Rating_default = Rating;

//#endregion
export { Rating_default as default, getRatingUtilityClass, ratingClasses_default as ratingClasses };
//# sourceMappingURL=@mui_material_Rating.js.map